# 다음 할 것

## BUG FIX

### 한 화면에 toggle 여럿 있으면 key가 겹쳐서 제대로 안 보임 << 오답과제 생성할 때 중요함

- [ ] id or key 넘길 방법 궁리 <- 이건 체크박스를 쓰든 뭘 하든 필요하다 <- 근데 컴포넌트에 자동으로 종속되면 좋겠는데...
      방법이 있나?

## 오답과제의 오답 체크

### assgignedAssignmentExtended api 관련 작업 <- 오답과제에서 오답체크하기 (체크 현황 받아와야)

- [x] QuestionIdToRequestInfo에서 session_id가 왜 필요한지 확인하기 << 만약 이게 필요 없으면 두 경우 모두 필요한 걸
      title_order, subtitle_order, question_order .... 로 처리할 수 있을 듯 << 추측하기로는 어느 세션을 낙관적으로 완료
      처리 할 것인지 판단해야 할 거 같은데... << mutate 쪽 살펴보자 << api한테도 넘기네 << 세션 내 문제 수 === 체크 수로
      완료 여부 판단

### assignment, syllabus 오답 체크 로직 공통화 작업

#### (완) 공통 타입 제작

- [x] CheckOrderInfo: title, subtitle, checkbox order
- [x] idToRequestInfo에서 order가 왜 들어가는지 파악 << 일단 commit하고 지우고 보자 << querydata에서 question을 찾아내기
      위함 << 이건 왜 필요?? << optimistic update
- [x] 공통 changed 타입 제작
- [x] 기존 타입 삭제

#### (완) syllabus review check 복구

- [x] pagenation을 위해서 question with order를 만듦. <<< pagenation은 syllabus에서만 쓰이므로 index로만 수정해주면 될
      것 같다
- [x] POST 실패하는 이유 찾기 << try catch로 감싸고 오류 출력
- [x] POST 고치기
- [x] optimistic update 고치기 << 왜 안 되냐 << 예상: 뭔가 렌더가 두 번 되더라. 이거 때문일 수도 있겠는데...

#### assignment check

- [ ] checkbox 좀 더 일반화 시도해보자
- [ ] recent hook 베끼기
- [ ] recent hook fix
- [ ] upsert: client setup
- [ ] upsert: blank api
- [ ] upsert: api logic
- [ ] optimistic update 베끼기
- [ ] optimistic update fix

- [ ] delete: client setup
- [ ] delete: blank api
- [ ] delete: api logic

- [ ] assignmentCheckbox 다중 선택
- [ ] 체크박스 클릭 낙관적 업데이트
- [ ] 오답과제 할당 -> 오답과제 체크박스 낙관적 업데이트

### 오답과제가 만들어진 오답 체크는 검정 표시 -> 이거 복잡하다. -> 한 오답체크로 여러 문제가 만들어지니까 단순히 오답과제가.... -> 아니야 단순하게 오답과제 만들어지면 그걸로는 더 이상 안 만드니까 끝난 게 맞다

### client setup

### api

### optimistic update

- [ ] if all checked, complete assignment

### loader 정리: review check get <- 오답체크 그리드 채우는 것:

- [ ] 현재 assignment를 review, assignment 양 쪽 레이아웃에서 모두 사용하다보니 그것의 부모인 sidebar로 빼냈는데,
      그러다보니 최외곽 sidebar는 리렌더가 필요 없는데도 리렌더가 되고 스켈레톤이 보이는 현상 발생 --
      `_student._syllabus._review`, `_student._syllabus._assignment` 이렇게 만들어야 하려나???
- [ ] review check get (오답체크 그리드 정보 가져오기)는 현재 useQuery만 있음 -> loader 사용하도록 수정

## 오답과제의 오답 포함해서 오답과제 생성

### filterout old assignment

# 의문

## setter inside useEffect

- 될 때도 있고 안 될 때도 있다??
- useDebouncingToggle에서는 잘 사용했다
- [ ] 이 부분 해결하고 블로그에 쓰기

# improvement todolist

## student-syllabus validation: 한 학생은 한 실라버스를 한 번만 풀 수 있어야 함 <- 여러번 풀 수 있게 하면 이것 때문에 스키마를 한가득 수정해야 함

- [ ] 학생 추가할 때 반에서 사용하는 실라버스를 전에 할당받은 적 있는지 확인
- [ ] 반에 실라버스 추가할 때 해당 실라버스를 할당받은 학생이 있는지 확인

## helper

## mobile version

## 한 바퀴 돌리고 할 것

### 마이페이지 피드백

- [ ] resume 저장하고 나면 modal -> dashboard page에 보내기? 뭔가 피드백이 있어야 한다

## minor improvement

### "a,b,c,d,..." logic -> 소단원 여럿 중 몇 개만 쓰는 단원 있을 때 대응/a/b로 할까...

### 임시저장 기능 만들기

## really later

### sub question api

- [ ] 사용방안이 아직 명확하지가 않음 -> 오답과제에서 문제집을 왔다갔다하면 번거롭다

### auto complete animation bug fix

- [ ] 검색어 바뀔 때마다 exit, mount 되는 이유 찾아내기
- [ ] focus, blur, no result일 때만 mount, exit되게 변경

### auto complete position fix -> 하위 문제에서 얘를 쓰는데 하위문제 자체를 나중에 구형할 거다

- [ ] 더 길게 빼야 한다
- [ ] 위치를 위 아래로 바꿔야 한다
- [ ] 길이를 다이내믹으로 바꿔야 한다

### 확장 가능성: 강사가 여럿, 학원이 여럿이 된다면

- 시스템에 등록된 모든 문제집을 검색해서 볼 수 있음
- 남의 문제집을 내가 사용하려면 fork or subscribe 해야 함
- 탭은 내 문제집 / 학원 / 전체, 이 중에서 내 문제집은 다시 내가 등록, forked, subscribed 로 분화됨

## big update

### 수정 페이지는 관계형으로 만들어야 함
