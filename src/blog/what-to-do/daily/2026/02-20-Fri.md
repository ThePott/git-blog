# 다음 할 것

## BUG FIX

### 한 화면에 toggle 여럿 있으면 key가 겹쳐서 제대로 안 보임 << 오답과제 생성할 때 중요함

- [ ] id or key 넘길 방법 궁리 <- 이건 체크박스를 쓰든 뭘 하든 필요하다 <- 근데 컴포넌트에 자동으로 종속되면 좋겠는데...
      방법이 있나?

### (완) syllabus-with-sessions 에서 씹히는 topic이 있음

- [x] condense 과정 중 어디에서 문제가 생기는 것인지 확인

### (완) dropdown이 stoppropagation이 되지 않음 -> 이거 아마 data-dropdown 으로 해결했었을 텐데

- [x] menu item click할 때 stop propagation으로 해결

### (완) 오답과제 후보 문제 수가 잘못 뜨는 문제

- [x] 현상 분석: 아마도 여러 명의 오답 후보들이 합쳐지는 것 같다
- [x] 실제 데이터 디버그

## 오답과제의 오답 체크

### (완) 고민

- [x] 어떻게 할지 고민 -> 일단 ui placeholder로 채우자 -> 그렇다면 api에서 데이터 가져와야 함 (review/check/assignment)
      -> 그런데 반별 오답과제는 어떻게 구분되지??

### (완) 반별 오답과제 분리 -> 아니야 단순하게 한 문제집은 한 번만 할당받을 수 있게 강제하자

- [x] 조금 긴 더미 문제집 추가
- [x] 1반과 2반에 같은 학생 추가, 다른 문제집 부여
- [x] 오답과제 목록 확인하기 <- 다른 반에서의 오답과제를 걸러내지 못하네
- [x] 오답 목록 받아올 때 classroom_id를 사용하기는 하는데 << 얘는 어디에 쓰이는 거지? << 확인해보자 << 예전에 원장한테
      보여줄 때 같은 문제집을 다른 반의 같은 학생에게 부여하다보니 꼬이게 된 게 남아있었음
- [x] review_check에 classroom_id 넣기
- [x] 오답과제 생성해보기 (같은 학생, 다른 반, 다른 문제집)
- [x] 오답과제 생성해보기 (같은 학생, 다른 반, 같은 문제집) << 오답 과제 체크해서 자동 완료 체크하는 부분에 문제 있음
- [x] BUG: 오답체크 -> 자동 완료에서 반 상관을 안 하고 완료를 해버린다 -> 반 따라서 되도록 수정
- [x] 오답과제 upsert, delete 할 때 classroom_id를 넣으려 하는데 문제 발생, 해결책 찾기
- [x] 위 내용 블로그 작성 << 그냥 한 문제집은 한 번만 풀 수 있도록 강제하는 게 낫겠다
- [x] BUG: 심화반 김유신이 오답을 하나만 체크했는데 오답과제에는 5문제로 나옴 << 둘다 정도전의 문제집인 게 문제가 됐나??
      같은 반이라 그런 건데... 더 자세히 살펴보자 << 두 명 것이 합쳐지는 것 같다
- [x] 오답과제 제작하기
- [x] 필터 넣어서 반 별로 구분해보기

### route 정리

- [x] assigned 추가하기
- [ ] assigned 로더 넣기
- [ ] sidebar에서 로더 빼기
- [ ] 오류 잡기

- [ ] sidebar 이름 student로 바꾸기
- [ ] 오류 잡기
- [ ] primaray, secondary sidebar 컴포넌트 고민하기
- [ ] primary sidebar 컴포넌트 만들기
- [ ] secondary sidebar 컴포넌트 만들기
- [ ] student sidebar에 primary sidebar 적용하기
- [ ] 오류 잡기

- [ ] \_check에 secondary sidebar 적용하기
- [ ] \_progress에 secondary sidebar 적용하기
- [ ] 오류 잡기

### assgignedAssignmentExtended api 관련 작업 <- 오답과제에서 오답체크하기 (체크 현황 받아와야)

- [x] client setting for loader, query <<< 어디서 해야 하지?? review.check check << 어디에 스켈레톤을 보여줄 것인지로
      결정

- [ ] ui placeholder
- [ ] 기존 ui 재탕할 수 있는지 확인

### 오답과제가 만들어진 오답 체크는 검정 표시 -> 이거 복잡하다. -> 한 오답체크로 여러 문제가 만들어지니까 단순히 오답과제가.... -> 아니야 단순하게 오답과제 만들어지면 그걸로는 더 이상 안 만드니까 끝난 게 맞다

### client setup

### api

### optimistic update

- [ ] if all checked, complete assignment

### loader 정리: review check get <- 오답체크 그리드 채우는 것:

- [ ] 현재 assignment를 review, assignment 양 쪽 레이아웃에서 모두 사용하다보니 그것의 부모인 sidebar로 빼냈는데,
      그러다보니 최외곽 sidebar는 리렌더가 필요 없는데도 리렌더가 되고 스켈레톤이 보이는 현상 발생 --
      `_student._syllabus._review`, `_student._syllabus._assignment` 이렇게 만들어야 하려나???
- [ ] review check get (오답체크 그리드 정보 가져오기)는 현재 useQuery만 있음 -> loader 사용하도록 수정

## 오답과제의 오답 포함해서 오답과제 생성

### filterout old assignment

# 의문

## setter inside useEffect

- 될 때도 있고 안 될 때도 있다??
- useDebouncingToggle에서는 잘 사용했다
- [ ] 이 부분 해결하고 블로그에 쓰기

# improvement todolist

## student-syllabus validation: 한 학생은 한 실라버스를 한 번만 풀 수 있어야 함 <- 여러번 풀 수 있게 하면 이것 때문에 스키마를 한가득 수정해야 함

- [ ] 학생 추가할 때 반에서 사용하는 실라버스를 전에 할당받은 적 있는지 확인
- [ ] 반에 실라버스 추가할 때 해당 실라버스를 할당받은 학생이 있는지 확인

## helper

## mobile version

## 한 바퀴 돌리고 할 것

### 마이페이지 피드백

- [ ] resume 저장하고 나면 modal -> dashboard page에 보내기? 뭔가 피드백이 있어야 한다

## minor improvement

### "a,b,c,d,..." logic -> 소단원 여럿 중 몇 개만 쓰는 단원 있을 때 대응/a/b로 할까...

### 임시저장 기능 만들기

## really later

### sub question api

- [ ] 사용방안이 아직 명확하지가 않음 -> 오답과제에서 문제집을 왔다갔다하면 번거롭다

### auto complete animation bug fix

- [ ] 검색어 바뀔 때마다 exit, mount 되는 이유 찾아내기
- [ ] focus, blur, no result일 때만 mount, exit되게 변경

### auto complete position fix -> 하위 문제에서 얘를 쓰는데 하위문제 자체를 나중에 구형할 거다

- [ ] 더 길게 빼야 한다
- [ ] 위치를 위 아래로 바꿔야 한다
- [ ] 길이를 다이내믹으로 바꿔야 한다

### 확장 가능성: 강사가 여럿, 학원이 여럿이 된다면

- 시스템에 등록된 모든 문제집을 검색해서 볼 수 있음
- 남의 문제집을 내가 사용하려면 fork or subscribe 해야 함
- 탭은 내 문제집 / 학원 / 전체, 이 중에서 내 문제집은 다시 내가 등록, forked, subscribed 로 분화됨

## big update

### 수정 페이지는 관계형으로 만들어야 함
