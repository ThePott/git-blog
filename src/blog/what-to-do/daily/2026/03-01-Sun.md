# 다음 할 것

## BUG FIX

### 한 화면에 toggle 여럿 있으면 key가 겹쳐서 제대로 안 보임 << 오답과제 생성할 때 중요함

- [ ] id or key 넘길 방법 궁리 <- 이건 체크박스를 쓰든 뭘 하든 필요하다 <- 근데 컴포넌트에 자동으로 종속되면 좋겠는데...
      방법이 있나?

### 오답과제가 만들어진 review check는 disabled해서 상태 바꿀 수 없게 해야 함

- [ ] BUG: 현재 오답과제가 2문제인데 order가 9, 10임 -> 원인 찾았다. 오답체크를 이리저리 하던 중 오답과제를 해제하기도
      해서 assigned 가 없어졌고 그 때문에 cascade로 review check 도 없어짐
- [ ] BUG: 오답과제 문제 수가 10 -> 2로 변함
- [ ] BUG: 오답과제 pdf가 안 열림

```
{ array: '(,)' }
{
  template: '#import "./typst-template/components/page-setting.typ": page-setting\n' +
    '#import "./typst-template/components/handout-per-student.typ": (\n' +
    '  handout-per-student,\n' +
    ')\n' +
    '\n' +
    '#show: page-setting\n' +
    '\n' +
    '#handout-per-student(\n' +
    '  book-data-array: (,),\n' +
    '  student-name: "홍길동",\n' +
    '  date-string: "2026-02-26",\n' +
    ')\n'
}
error: unexpected comma
  ┌─ src/features/assignment/pdf/assignment_1772082470786.typ:9:20
  │
9 │   book-data-array: (,),
  │                     ^
```

## 오답과제의 오답 체크

### (완) 현재 스키마로 복습 필요한 오답과제의 오답을 뽑아낼 수 있나? << 결론: 아님

- [x] 고민하기 << 결론: 스키마를 새로 잡아야 한다

### 새 스키마로 기능 복구하기

#### (완) GET review/assignment for sidebar

- [x] db 복구
- [x] route 복구
- [x] client review check sidebar 복구

#### GET review/check

- [x] db 복구
- [x] route 복구
- [x] client에 화면 띄우기
- [ ] session_id, session_status가 안 넘어오고 있음 << 원인 파악해야

#### POST review/check

#### GET review/check/assignment

##### 계획

- 결론: 여기서도 book부터 query를 한다
- assignment_id 받으면 assignment -> attempt -> question -> step -> topic -> book
- book, topic, question으로 다시 그루핑??
- 아니면 이것도 book을 쿼리하고 필요한 걸 조인하는 게 낫나?

#### POST review/check/assignment

### 오답과제 만들기

- [ ]

## 낙관적 업데이트 해야 하는 것

- [ ] 오답과제의 오답체크 하고 나면 -> 진도표에서 완료 여부 수정
- [ ] 진도표에서 오답과제 할당 하면 -> 오답과제 오답체크에서 체크 활성화 (assigned_at 부여)
- [ ]

## 오답과제의 오답 포함해서 오답과제 생성

## 오답과제 생성하고 나면 그 오답 체크는 더 이상 상태 바꿀 수 없게 하기

## 반응형 레이아웃

### filterout old assignment

# 의문

## setter inside useEffect

- 될 때도 있고 안 될 때도 있다??
- useDebouncingToggle에서는 잘 사용했다
- [ ] 이 부분 해결하고 블로그에 쓰기

# improvement todolist

## student-syllabus validation: 한 학생은 한 실라버스를 한 번만 풀 수 있어야 함 <- 여러번 풀 수 있게 하면 이것 때문에 스키마를 한가득 수정해야 함

- [ ] 학생 추가할 때 반에서 사용하는 실라버스를 전에 할당받은 적 있는지 확인
- [ ] 반에 실라버스 추가할 때 해당 실라버스를 할당받은 학생이 있는지 확인

## helper

## mobile version

## 한 바퀴 돌리고 할 것

### 마이페이지 피드백

- [ ] resume 저장하고 나면 modal -> dashboard page에 보내기? 뭔가 피드백이 있어야 한다

## minor improvement

### "a,b,c,d,..." logic -> 소단원 여럿 중 몇 개만 쓰는 단원 있을 때 대응/a/b로 할까...

### 임시저장 기능 만들기

## really later

### sub question api

- [ ] 사용방안이 아직 명확하지가 않음 -> 오답과제에서 문제집을 왔다갔다하면 번거롭다

### auto complete animation bug fix

- [ ] 검색어 바뀔 때마다 exit, mount 되는 이유 찾아내기
- [ ] focus, blur, no result일 때만 mount, exit되게 변경

### auto complete position fix -> 하위 문제에서 얘를 쓰는데 하위문제 자체를 나중에 구형할 거다

- [ ] 더 길게 빼야 한다
- [ ] 위치를 위 아래로 바꿔야 한다
- [ ] 길이를 다이내믹으로 바꿔야 한다

### 확장 가능성: 강사가 여럿, 학원이 여럿이 된다면

- 시스템에 등록된 모든 문제집을 검색해서 볼 수 있음
- 남의 문제집을 내가 사용하려면 fork or subscribe 해야 함
- 탭은 내 문제집 / 학원 / 전체, 이 중에서 내 문제집은 다시 내가 등록, forked, subscribed 로 분화됨

## big update

### 수정 페이지는 관계형으로 만들어야 함
